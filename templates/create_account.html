<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ARK Banking - Create Account</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <link rel="icon" type="image/png" href="{{ url_for('static', filename='favicon.jpg') }}">
</head>
<body>
  <!-- Professional Header -->
  <header class="main-header">
    <div class="header-container">
      <div class="header-logo">
        <!-- Your custom logo -->
        <img src="{{ url_for('static', filename='logo.jpg') }}" alt="ARK Banking Logo" class="logo-image">
        <span class="logo-text">ARK BANKING</span>
      </div>
      <nav class="header-nav">
        <a href="{{ url_for('home') }}" class="nav-link">Sign In</a>
      </nav>
    </div>
  </header>

  <!-- Registration Section -->
  <main class="auth-page">
    <div class="auth-box auth-box-wide">
      <div class="auth-box-header">
        <h1>Create Account</h1>
        <p>Join ARK Banking today</p>
      </div>

      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, message in messages %}
            <div class="alert alert-{{ category }}">
              {{ message }}
            </div>
          {% endfor %}
        {% endif %}
      {% endwith %}

      <form action="{{ url_for('create_account') }}" method="POST" id="createAccountForm" class="auth-form">
        <!-- Personal Information -->
        <div class="section-group">
          <h3 class="section-title">Personal Information</h3>
          
          <div class="input-row">
            <div class="input-field">
              <label for="firstName">First Name</label>
              <input type="text" id="firstName" name="firstName" required>
            </div>
            
            <div class="input-field">
              <label for="lastName">Last Name</label>
              <input type="text" id="lastName" name="lastName" required>
            </div>
          </div>
          
          <div class="input-row">
            <div class="input-field">
              <label for="dob">Date of Birth</label>
              <input type="date" id="dob" name="dob" required>
            </div>
            
            <div class="input-field">
              <label>Gender</label>
              <div class="radio-options">
                <label class="radio-label">
                  <input type="radio" name="gender" value="Male" required>
                  <span>Male</span>
                </label>
                <label class="radio-label">
                  <input type="radio" name="gender" value="Female">
                  <span>Female</span>
                </label>
                <label class="radio-label">
                  <input type="radio" name="gender" value="Other">
                  <span>Other</span>
                </label>
              </div>
            </div>
          </div>
          
          <div class="input-row">
            <div class="input-field">
              <label for="ssn">Social Security Number</label>
              <input type="text" id="ssn" name="ssn" placeholder="XXX-XX-XXXX" required>
            </div>
            
            <div class="input-field">
              <label for="income">Annual Income</label>
              <input type="number" id="income" name="income" placeholder="50000" required>
            </div>
          </div>
        </div>

        <!-- Account Credentials -->
        <div class="section-group">
          <h3 class="section-title">Account Credentials</h3>
          
          <div class="input-row">
            <div class="input-field">
              <label for="userName">Username</label>
              <input type="text" id="userName" name="userName" required autocomplete="username">
            </div>
            
            <div class="input-field">
              <label for="password">Password</label>
              <div class="password-wrapper">
                <input type="password" id="password" name="password" required autocomplete="new-password">
                <button type="button" class="password-btn" onclick="togglePassword()">
                  <span id="toggleText">SHOW</span>
                </button>
              </div>
              <div class="password-hints">
                <span class="hint" id="req-length">8+ characters</span>
                <span class="hint" id="req-capital">Uppercase</span>
                <span class="hint" id="req-number">Number</span>
                <span class="hint" id="req-symbol">Symbol</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Account Type -->
        <div class="section-group">
          <h3 class="section-title">Account Type</h3>
          
          <div class="radio-options radio-options-block">
            <label class="radio-label">
              <input type="radio" name="accountType" value="checking" required onclick="showDepositFields()">
              <span>Checking Only</span>
            </label>
            <label class="radio-label">
              <input type="radio" name="accountType" value="savings" onclick="showDepositFields()">
              <span>Savings Only</span>
            </label>
            <label class="radio-label">
              <input type="radio" name="accountType" value="both" onclick="showDepositFields()">
              <span>Both Accounts</span>
            </label>
          </div>
          
          <div id="depositFields"></div>
        </div>
        
        <button type="submit" id="submitBtn" class="submit-btn">Create Account</button>
      </form>

      <div class="auth-box-footer">
        <p>Already have an account? <a href="{{ url_for('home') }}">Sign in</a></p>
      </div>
    </div>
  </main>

  <footer class="page-footer">
    <div class="footer-container">
      <p>&copy; 2025 ARK Banking. All Rights Reserved.</p>
    </div>
  </footer>
  
  <script>
    function togglePassword() {
      const passwordInput = document.getElementById('password');
      const toggleText = document.getElementById('toggleText');
      
      if (passwordInput.type === 'password') {
        passwordInput.type = 'text';
        toggleText.textContent = 'HIDE';
      } else {
        passwordInput.type = 'password';
        toggleText.textContent = 'SHOW';
      }
    }

    const passwordInput = document.getElementById('password');
    const submitBtn = document.getElementById('submitBtn');
    
    passwordInput.addEventListener('input', function() {
      const password = this.value;
      
      const hasLength = password.length >= 8;
      updateHint('req-length', hasLength);
      
      const hasCapital = /[A-Z]/.test(password);
      updateHint('req-capital', hasCapital);
      
      const hasNumber = /[0-9]/.test(password);
      updateHint('req-number', hasNumber);
      
      const hasSymbol = /[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(password);
      updateHint('req-symbol', hasSymbol);
      
      const allValid = hasLength && hasCapital && hasNumber && hasSymbol;
      submitBtn.disabled = !allValid;
    });
    
    function updateHint(id, isValid) {
      const element = document.getElementById(id);
      if (isValid) {
        element.classList.add('valid');
      } else {
        element.classList.remove('valid');
      }
    }

    submitBtn.disabled = true;

    function showDepositFields() {
      const accountType = document.querySelector('input[name="accountType"]:checked').value;
      const depositFields = document.getElementById('depositFields');
      
      let html = '';
      
      if (accountType === 'checking') {
        html = `
          <div class="input-field" style="margin-top: 1rem;">
            <label for="checking-deposit">Initial Checking Deposit</label>
            <input type="number" id="checking-deposit" name="checking" placeholder="0.00" min="0" step="0.01" required>
          </div>
        `;
      } else if (accountType === 'savings') {
        html = `
          <div class="input-field" style="margin-top: 1rem;">
            <label for="savings-deposit">Initial Savings Deposit</label>
            <input type="number" id="savings-deposit" name="savings" placeholder="0.00" min="0" step="0.01" required>
          </div>
        `;
      } else if (accountType === 'both') {
        html = `
          <div class="input-row" style="margin-top: 1rem;">
            <div class="input-field">
              <label for="checking-deposit">Initial Checking Deposit</label>
              <input type="number" id="checking-deposit" name="checking" placeholder="0.00" min="0" step="0.01" required>
            </div>
            
            <div class="input-field">
              <label for="savings-deposit">Initial Savings Deposit</label>
              <input type="number" id="savings-deposit" name="savings" placeholder="0.00" min="0" step="0.01" required>
            </div>
          </div>
        `;
      }
      
      depositFields.innerHTML = html;
    }
  </script>
</body>
</html>
